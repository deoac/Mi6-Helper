=begin pod

=head1 NAME

<<<<<<< HEAD
Mi6::Helper - An aid for converting Raku modules to use B<App::Mi6>
and the Raku Zef module repository

=head1 SYNOPSIS

=begin code
use Mi6::Helper
=end code

This module installs a Raku executable named C<mi6-helper> which
is designed to inspect an existing Git repository of a Raku
module for two main purposes:

1. Convert an mi6-created module from using the CPAN module repository to
      using the Raku Zef module repository

2. Convert an unmanaged module to one that uses the C<App::Mi6> module.
      for management with the Raku Zef module repository

In the process of conversion, and until mi6 is able, search for C<use>d modules missing
      from the META6.json file and add them to the C<depends> array


=begin code :lang<raku>
$ mi6-helper <raku-module-repo-name>
=end code

The C<<raku-module-repo-name>> may be a C<.> if you are working in
the repository directory. In either case, the name will be taken
from either (1) an existing META6.json file's C<"name"> key's value
or (2) the first module found in the 'lib' directory.
=======
Mi6::Helper - An aid for converting Raku modules to use App::Mi6

=head1 SYNOPSIS

Note this module requires the C library C<libgit2> to function.

This module installs a Raku executable named C<mi6-helper> which
is designed to inspect an existing Git repository of a Raku
module to help convert it to one that uses the C<App::Mi6> module
with the Zef repository.

In the process of conversion, it also checks for all dependencies
which C<App::Mi6> may have missed.

A future capability will be to convert a non-managed module to using
C<App::Mi6> with the Zef repository.

=begin code :lang<raku>
$ mi6-helper <raku-module-repo-dir name>
=end code

The C<<raku-module-repo-name>> may be a C<.> if you are working in
the top level of the repository directory.
>>>>>>> de4e875b7b3166a398039dbc6e21d3c63cc65fd0

=head1 DESCRIPTION

The executable program exists but has no useful operation yet other
than a quick inspection and limited reporting. See the following
section for the design features planned.

=head2 GOAL

What am I trying to accomplish?

=begin code
- Convert an existing module to use App::Mi6

- Process in order

sub check-git
  - ensure there is a .git file
    - throw if not

  - check if needing a commit
<<<<<<< HEAD
    - throw if so
=======
    - throw if not
>>>>>>> de4e875b7b3166a398039dbc6e21d3c63cc65fd0

  # From this point, all changes to existing files should
  # protected by Git and new files will listed as untracked.
  # If the user fails to add the files or commit them,
  # mi6 will cath the errors upon build or release.

sub get-mod-name
  - determine the base module name
    - check any dist.ini file
    - check the META6.json file
<<<<<<< HEAD
    - check existing Raku modules in 'lib'
=======
>>>>>>> de4e875b7b3166a398039dbc6e21d3c63cc65fd0
    - throw if not found or there are conflicts

sub get-mod-type
  - determine whether it's a module or a class (affects the type
    of load test)

sub check-mi6-files
  - check for missing files required by mi6
    - write my version
  - remove the dummy test created by mi6, if any

sub check-my-std-test-files
  - check for and create missing standard
    tests I use
    - Test::Meta
    - load or class test

sub find-external-mods-used
  - determine external modules used by the module being analyzed

sub write-meta6-json
<<<<<<< HEAD
  - rewrite any existing META6.json file (create a backup copy)
=======
  - rewrite the META6.json file (create a backup copy)
>>>>>>> de4e875b7b3166a398039dbc6e21d3c63cc65fd0
    - ensure depends and test depends are correct

sub write-dist-ini
  - rewrite the dist.ini file (create a backup copy)
    - IMPORTANT ensure the convert to pod is turned OFF until manually changed

  - check for the Unicode Copyright symbol [Copyright  &#x00A9; 2020 <author>] in the source pod
    for the README.md file
    - report results

  - use prompts where need be
=end code

=head1 AUTHOR

<<<<<<< HEAD
Tom Browder <tom.browder@gmail.com>
=======
Tom Browder <tbrowder@acm.org>
>>>>>>> de4e875b7b3166a398039dbc6e21d3c63cc65fd0

=head1 CREDITS

The very useful Raku modules used herein:

=item C<App::Mi6>     by B<github:skaji>
=item C<File::Find>   by B<github:tadzik>
=item C<JSON::Fast>   by B<github:timo>
=item C<Config::INI>  by B<gitbub:tadzik>

=head1 COPYRIGHT AND LICENSE

Copyright &#x00A9; 2020-2021 Tom Browder

This library is free software; you may redistribute it or modify it under the Artistic License 2.0.

=end pod
